$gallery-button-radius: em(35px)
$gallery-dots-diameter: 8px

.inline-gallery
	+unpadded
	margin-bottom: remify(60px)

	+respond-min($break-page-padding)
		margin-left: auto
		margin-right: auto

	&-container
		@extend .gallery-container

.gallery-slides
	.gallery__media-item
		margin: 0 auto
		max-height: 620px
		max-width: 100%
		width: auto
	.figure__caption
		box-sizing: content-box // this is for portrait images in mobile view, to dissolve the padding
		margin: $small auto 0
		max-width: none
		padding: 0 $page-padding--small
		+respond-min($break-1)
			padding: 0
	.figure__copyright
		color: $charcoal

// appear just after bxSlider initialisation
// needed for "static" galleries
.js
	.gallery-slides
		visibility: hidden
.bx-wrapper
	.gallery-slides
		visibility: visible

.bx-wrapper--touch
	.bx-controls
		padding: remify(20px) $page-padding--small 1em
		+respond-min($break-page-padding)
			padding: 0 0 1em
.bx-wrapper--no-touch
	.bx-controls
		+pie-clearfix
		padding: $page-padding
		display: none
		+respond-min($break-1)
			display: block
			padding: 0 0 $page-padding
	+respond-min($break-1)
		.figure__index
			display: none

.bx-controls-direction
	float: right
.bx-wrapper--touch .bx-pager
	font-size: $gallery-dots-diameter
	line-height: 1.5
	text-align: center
.bx-wrapper--no-touch .bx-pager
	float: right
	font-family: $font-tabletgothic
	font-size: 0.9em
	height: remify($gallery-button-radius)
	line-height: remify($gallery-button-radius)
	padding-right: .5em
.bx-pager-item
	display: inline
	font-size: 0
	line-height: 0
.bx-pager-link
	background: #000
	border-radius: 50%
	display: inline-block
	height: $gallery-dots-diameter
	margin: 0 $gallery-dots-diameter/2
	opacity: 0.3
	outline: 0
	text-indent: -9999px
	width: $gallery-dots-diameter
	&:hover,
	&:focus,
	&.active
		opacity: 0.7

.bx-prev,
.bx-next
	background-color: #000
	border-radius: 50%
	border: none
	color: $white
	float: left
	height: $gallery-button-radius
	margin-left: remify(10px)
	opacity: 0.3
	padding: remify(10px)
	width: $gallery-button-radius
	&:hover,
	&:active,
	&:focus
		color: $white !important // stupid specificity war against .article__page a:hover
	&:hover
		opacity: 0.7
	&:focus
		outline: 0
	&.disabled
		opacity: 0.1

.bx-arrow-icon
	display: block
	height: 100%
	margin: 0 auto
	width: auto

.bx-overlay-prev,
.bx-overlay-next
	@extend .bx-next
	margin: 0
	position: absolute
	top: em(10px)
	+respond-min($break-1)
		height: $gallery-button-radius * 2
		margin-top: -$gallery-button-radius
		opacity: 0
		padding: remify(20px)
		top: 50%
		width: $gallery-button-radius * 2

.bx-overlay-prev
	left: em(10px)
.bx-overlay-next
	right: em(10px)

.bx-viewport
	position: relative
	+on-interaction
		.bx-overlay-prev,
		.bx-overlay-next
			opacity: 0.3

.bx-zone-prev,
.bx-zone-next
	width: 15%
	height: 20%
	position: absolute
	z-index: 9999
	cursor: pointer
	display: none
	+respond-min($break-1)
		width: 50%
		height: 90%
		display: block
.bx-zone-prev
	&:hover
		.bx-overlay-prev
			opacity: 0.7
.bx-zone-next
	right: 0
	&:hover
		.bx-overlay-next
			opacity: 0.7

// elements not in actual use
.bx-controls-auto,
.bx-loading
	display: none

.no-js .gallery-slides
	padding-top: remify(36px)
	figure
		margin-top: 0
		margin-bottom: remify(18px)
		&:last-child
			.figure__caption
				margin-bottom: remify(18px)

	.gallery__media-item
		max-width: 100%
	.figure__caption
		max-width: 100%
		width: remify(580px)
		margin-bottom: remify(36px)

	.figure__copyright
		display: block
