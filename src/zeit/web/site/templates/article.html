{% extends "zeit.web.site:templates/content.html" %}
{% import "zeit.web.site:templates/macros/article_macro.tpl" as blocks with context %}

{% macro render_page(page) %}
    {% for item in page %}
        {{ (blocks[item | block_type] or blocks["no_block"])(item) }}
    {% endfor %}
{% endmacro %}

{% block content_ad_script -%}
{% if view.context.advertising_enabled %}
<script type="text/javascript">
    (function() {
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = document.location.protocol + '//cdn.iqcontentplatform.de/iq.js';
        var sc = document.getElementsByTagName('script')[0]; sc.parentNode.insertBefore(s, sc);
    })();
</script>
{% endif %}
{%- endblock %}


{% block article_pages %}
    <div class="article-page">
        {{ render_page(view.current_page) }}
    </div>
{% endblock article_pages %}

{% block article_google_ad %}
    {% if view.context.advertising_enabled -%}
        {{ blocks.adplace_desktop(view.banner(5)) }}
    {%- endif %}
{% endblock article_google_ad %}

{% block article_pagination %}
    {% include "zeit.web.site:templates/inc/article/pagination.tpl" ignore missing %}
{% endblock article_pagination %}

{% block article_interactions %}
    <div class="article-interactions article__item">
        <div class="interaction-print"></div>
        <div class="more-interactions"></div>
        <div class="sharing-menu">
            <span class="sharing-menu__title js-sharing-menu">Teilen</span>
            <ul class="sharing-menu__items">
                <li class="sharing-menu__item">
                    <a class="sharing-menu__link sharing-menu__link--facebook" href="http://www.facebook.com/sharer/sharer.php?u={{ view.content_url + '?wt_zmc=sm.int.zonaudev.facebook.ref.zeitde.dskshare.link.x&utm_medium=sm&utm_source=facebook_zonaudev_int&utm_campaign=facebook_referrer&utm_content=zeitde_dskshare_link_x' | urlencode }}" target="_blank">
                        Facebook
                    </a>
                </li>
                <li class="sharing-menu__item">
                    <a class="sharing-menu__link sharing-menu__link--twitter" href="http://twitter.com/intent/tweet?text={{ view.title | urlencode }}&amp;via=zeitonline&amp;url={{ view.content_url + '?wt_zmc=sm.int.zonaudev.twitter.ref.zeitde.dskshare.link.x&utm_medium=sm&utm_source=twitter_zonaudev_int&utm_campaign=twitter_referrer&utm_content=zeitde_dskshare_link_x' | urlencode }}" target="_blank">
                        Twitter
                    </a>
                </li>
                {# Google+ will be closed in the near future, all info is fetched automaticall, no params needed #}
                <li class="sharing-menu__item">
                    <a class="sharing-menu__link sharing-menu__link--google" href="https://plus.google.com/share?url={{ view.content_url + '?wt_zmc=sm.int.zonaudev.gplus.ref.zeitde.dskshare.link.x&utm_medium=sm&utm_source=gplus_zonaudev_int&utm_campaign=gplus_referrer&utm_content=zeitde_dskshare_link_x' | urlencode }}" target="_blank">
                        Google +
                    </a>
                </li>
                <li class="sharing-menu__item">
                    <a class="sharing-menu__link sharing-menu__link--mail" href="mailto:?subject={{ (view.title + ' - Artikel auf ZEIT ONLINE') | urlencode }}&amp;body={{ ('Artikel auf ZEIT ONLINE lesen: ' + view.content_url + '?wt_zmc=sm.ext.zonaudev.mail.ref.zeitde.dskshare.link.x&utm_medium=sm&utm_source=mail_zonaudev_ext&utm_campaign=mail_referrer&utm_content=zeitde_dskshare_link_x') | urlencode }}">
                        Mail
                    </a>
                </li>
                <li class="sharing-menu__item sharing-menu__item--whatsapp">
                    <a class="sharing-menu__link sharing-menu__link--whatsapp" href="whatsapp://send?text={{ (view.title + ' - Artikel auf ZEIT ONLINE: ' + view.content_url) | urlencode }}">
                        WhatsApp
                    </a>
                </li>
            </ul>
        </div>
    </div>
{% endblock %}
