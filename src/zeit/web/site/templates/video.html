{% extends 'zeit.web.site:templates/content.html' %}
{% import 'zeit.web.site:templates/macros/video_macro.tpl' as vima %}

{% block content %}
    <article class="article article--video"
        {% if view.serie %} data-video-series="{{ view.serie|attr_safe }}"{% endif %}
        data-video-provider="brightcove"
        data-video-size="large"
        data-video-page-url="{{ view.content_url }}{% if view.slug %}/{{ view.slug }}{% endif %}"
        itemtype="http://schema.org/VideoObject" itemscope>
        {% profile %}
        <meta itemprop="playerType" content="HTML5 Flash">
        <meta itemprop="name" content="{{ view.title | hide_none }}">
        <meta itemprop="uploadDate" content="{{ view.date_last_modified | format_date('iso8601') }}">
        {% if view.iso_duration %}
            <meta itemprop="duration" content="{{ view.iso_duration }}">
        {% endif %}
        {% set image = get_image(view, view.context, fallback=False, default='wide') %}
        {% if image %}
            <meta itemprop="thumbnailUrl" content="{{ view.request.route_url('home') + image.path }}">
        {% endif %}

        <div class="article__item article__item--wide article__item--rimless">
            {{ vima.brightcove_video_tag(view.context.__name__, iframe=True) }}
        </div>

        {% if view.context.advertising_enabled %}
            <div class="article__item article__item--wide">
                {{ lama.adplace(view.banner(7), view) }}
            </div>
        {% endif %}

        {{ self.article_heading() }}

        <div class="article__item">
            <div class="summary" itemprop="description">
                {{ view.subtitle | hide_none }}
            </div>
            <div class="metadata">
                {% include "zeit.web.site:templates/inc/article/metadata.tpl" %}
                {% include "zeit.web.site:templates/inc/article/sharing-menu.tpl" %}
            </div>
        </div>
        {% endprofile %}
    </article>
{% endblock %}

{% block article_footer %}
{% endblock %}

{% block nextread %}
{% endblock %}
