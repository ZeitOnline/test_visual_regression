{% extends 'zeit.web.site:templates/layout.html' %}

{# Sometimes (if the author has no image), colums are rendered as default
   articles (instead of column.html). In this case, we need to adjust a few
   Things inside the article template (here). #}

{% block main %}
    {% block advertorial_marker %}{% endblock advertorial_marker %}
    {% block content %}
    <article class="article article--{{ view | block_type }}" id="js-article" itemprop="mainEntity" itemscope itemtype="http://schema.org/Article" itemid="{{ view.basename }}" itemref="publisher">
        <link itemprop="mainEntityOfPage" href="{{ view.canonical_url }}">
    {% profile %}
        {% block article_head %}
            {% include ["zeit.web.site:templates/inc/article-header/{}.html".format(view.header_layout),
                        "zeit.web.site:templates/inc/article-header/default.html"] %}
        {% endblock article_head %}
    {% endprofile %}
    {% profile %}
        {% block article_body %}
        <div class="article-body article-body--{{ view | block_type }}" itemprop="articleBody">
            {% block article_storystreamteaser_teaser %}{% endblock %}

            {% block article_pages %}
                <!-- Here goes the content for a page -->
            {% endblock article_pages %}
            {% block article_pagination %}
                <!-- Here goes the pagination -->
            {% endblock article_pagination %}

            {% block article_storystreamteaser %}{% endblock %}

        </div>
        {% endblock article_body %}
    {% endprofile %}
    </article>

    {% block lineage %}
        {% include "zeit.web.site:templates/inc/article/lineage.tpl" %}
    {% endblock %}

    {% endblock content %}


    {% block article_footer %}
    <div class="article-footer article__item" data-ct-area="articlebottom">
        {% block article_sharing %}
            {% include "zeit.web.site:templates/inc/article/sharing-menu.html" %}
        {% endblock %}

        {% block print %}
        {% endblock %}

        {% block article_tags %}
            {% include "zeit.web.core:templates/inc/article/tags.html" %}
        {% endblock %}
    </div>
    {% endblock %}

    {% block nextread %}
        {% set module = view.nextread %}
        {% include "zeit.web.site:templates/inc/article/nextread.tpl" %}
    {% endblock %}

    {% block veeseo_div %}{% endblock %}

    {% block nextread_ad %}
        {% set module = view.nextread_ad %}
        {% include "zeit.web.site:templates/inc/article/nextread.tpl" %}
    {% endblock %}

    {% block article_google_ad %}
        {% if view.context.advertising_enabled -%}
            {{ lama.adplace(view.banner(5), view) }}
        {%- endif %}
    {% endblock article_google_ad %}
    {% block comments %}
    {% profile %}
        {% include "zeit.web.core:templates/inc/article/comments.html" %}
    {% endprofile %}
    {% endblock comments %}

{% endblock main %}

{% block progress_circle %}
<script id="circle_progress_script" type="text/template">
    <div id="overscrolling" class="overscrolling">
        <div id="overscrolling_target" class="overscrolling__target"></div>
        <div id="overscrolling_indicator" class="circle-progress overscrolling__indicator">
            <svg id="circle_progress_svg" class="circle-progress__svg" width="150" height="150" version="1.1" xmlns="http://www.w3.org/2000/svg">
                <circle shape-rendering="geometricPrecision" class="circle-progress__fill" r="70" cx="75" cy="75" stroke="#fff" fill="rgba(0,0,0,0.6)" stroke-dasharray="458.672" stroke-dashoffset="0"></circle>
                <circle shape-rendering="geometricPrecision" id="circle_progress_bar" class="circle-progress__bar" r="70" cx="75" cy="75" transform="rotate(270,75,75)" fill="transparent" stroke="transparent" stroke-dasharray="458.672"></circle>
            </svg>
        </div>
    </div>
</script>
{% endblock %}

{% block veeseo %}
    <script src="http://rce.veeseo.com/widgets/zeit/widget.js"></script>
{% endblock %}
