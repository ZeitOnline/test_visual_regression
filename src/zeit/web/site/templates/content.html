{% import 'zeit.web.site:templates/macros/article_macro.tpl' as blocks %}
{% extends "zeit.web.site:templates/layout.html" %}

{% block main %}
    {% block content %}
    <article class="article article--{{ view | block_type }}" id="js-article" itemtype="http://schema.org/Article" itemscope>
    {% profile %}
        {% block schema_org_image_info %}
            {% set schema_image_url = view.image_group | sharing_image_url(image_pattern='og-image') %}
            {%- if schema_image_url -%}
            <script type="application/ld+json">
            {
                "@context": "http://schema.org",
                "@type": "ImageObject",
                "contentUrl": "{{ schema_image_url }}",
                "datePublished": "2008-01-25"
            }
            </script>
            {%- endif -%}
        {% endblock schema_org_image_info %}
        {% block article_heading %}
            <div class="article__item">
                <h1 class="article-heading" itemprop="headline">
                    <span class="article-heading__kicker">
                        {{- view.supertitle | hide_none -}}
                    </span>{%- if view.title -%}<span class="article-heading__colon">: </span>{%- endif -%}
                    <span class="article-heading__title">
                        {{- view.title | hide_none -}}
                    </span>
                </h1>
            </div>
        {% endblock article_heading %}
        {% block article_meta %}
            <div class="article__item">
                {% if view.pagination and view.pagination.current > 1 %}
                <div class="article__page-teaser">
                    Seite {{ view.pagination.current }}/{{ view.pagination.total }}: {{ view.current_page.teaser }}
                </div>
                {% else %}
                <div class="summary" itemprop="description">
                    {{ view.subtitle | hide_none }}
                </div>
                <div class="byline" itemscope itemtype="http://schema.org/Person" itemprop="author">
                    {% if view.authors %}
                        {{ blocks.meta_author(view.authors, class="byline__author") }}
                    {% endif %}
                </div>
                <div class="metadata">
                    {% include "zeit.web.site:templates/inc/article/metadata.tpl" %}
                </div>
                {% endif %}
            </div>
        {% endblock article_meta %}
    {% endprofile %}
    {% profile %}
        {% block article_body %}
        <div class="article-body article-body--{{ view | block_type }}" itemprop="articleBody">
            {% block article_main_image %}
            {% endblock article_main_image %}
            {% block article_pages %}
                <!-- Here goes the content for a page -->
            {% endblock article_pages %}
            {% block article_google_ad %}
            {% endblock article_google_ad %}
            {% block article_pagination %}
                <!-- Here goes the pagination -->
            {% endblock article_pagination %}
        </div>
        {% endblock article_body %}
    {% endprofile %}
    </article>
    {% endblock content %}
    {% block article_interactions %}
    {% endblock %}
    {% block comments %}
    {% profile %}
        {% include "zeit.web.site:templates/inc/article/comments.tpl" %}
    {% endprofile %}
    {% endblock comments %}
{% endblock main %}
