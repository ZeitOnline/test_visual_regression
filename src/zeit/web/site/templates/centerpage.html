{#

This is the main template for the context type "centerpage".

Available attributes:
    zeit.web.site.view_centerpage.Centerpage

#}
{% import "zeit.web.site:templates/macros/layout_macro.tpl" as lama_site with context %}
{% extends "zeit.web.site:templates/layout.html" %}

{% block metadata %}
    <div class="header__metadata">
        <div class="header__tags">
            <span class="header__tags__label">{{ view.topic_links.title | hide_none }}</span>
            {% for label, link in view.topic_links %}
            <a href="{{ link }}" title="{{ label }}" class="header__tags__link">{{ label }}</a>
            {% endfor %}
        </div>
        <div class="header__date">{{ view.displayed_last_published_semantic | format_date('long') }}</div>
    </div>
{% endblock metadata %}

{% block main %}
    {% for region in view.regions %}
        {# XXX: Waiting for regions to have a layout or ID attribute. #}
        {% set region_layout = region | get_attr('layout', None) | get_attr('id', 'default') %}
        {%- include ["zeit.web.site:templates/inc/region/" + region_layout + ".html",
                     "zeit.web.site:templates/inc/region/default.html"] ignore missing -%}
    {% endfor %}
{% endblock main %}
