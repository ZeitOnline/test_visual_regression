{% extends "templates/layout.html" %}
{% import 'templates/block_elements.tpl' as blocks with context%}
{% import 'templates/article.html' as article with context %}
{% block content %}
	<article class="article article--longform">
		<div class="article__wrap">
			<div class="article__head-wrap">

          {{ blocks[view.header_elem|block_type](view.header_elem) }}

  	       <header class="article__title-wrap">
            {{ article.title() }}
            <div class="article__meta">
              {{ blocks.source_date(view.show_article_date | format_date('short'), view.source) }}
              {{ blocks.meta_author(view.authors) }}
            </div>
          </header>
			</div>

			<div class="article__body">

        <!-- block for Teaser -->
         <section class="article__page">
            <div class="article__page-wrap">
              {{ article.subtitle() }}
              <div class="article__subtitle__line"></div>
            </div>
          </section>

        {% for page in view.pages %}
          <section class="article__page">
            <div class="article__page-wrap">
              {{ blocks.subpage_index( view.pages, page.teaser, page.number, 'article__subpage-index', 'article__subpage-active' ) }}
              {{ blocks.subpage_head( page.number, page.teaser, 'article__subpage-head is-centered is-constrained' ) }}

              {{ article.render_page(page) }}
            </div>
          </section>
        {% endfor %}

			</div>
		</div>
	</article>
{% endblock content %}
