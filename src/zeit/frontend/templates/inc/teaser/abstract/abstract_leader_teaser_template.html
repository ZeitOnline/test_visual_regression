{#

Default teaser template for large teasers

Available attributes:
    cp
    lama
    blocks
    teaser_block
    teaser

all calling Templates have to provide:
    format: to define type of leader (eg. 'upright'/ 'square'/ 'full')
    shade: to define shading ('light'/ 'dark'/ 'none')
    supertitle: to define display of supertitle ('true'/ 'false')
#}

{% import 'templates/macros/centerpage_macro.tpl' as cp with context%}
{% import 'templates/macros/layout_macro.tpl' as lama with context%}
{% import 'templates/macros/article_macro.tpl' as blocks with context %}

{%- set asset = teaser | get_all_assets | block_type %}
{%- set image = get_teaser_image(teaser_block, teaser) %}

<div class="cp_leader cp_leader--{{ self.format() }}">
    {{ cp.comments_count(view.teaser_get_commentcount(teaser.uniqueId)) }}
    <a href="{{teaser | create_url}}">
        {% if asset[0] == 'video' %}
        <!-- call video asset -->
            {%- set obj = teaser | auto_select_asset %}
            {{ blocks.headervideo(obj, 'cp_leader__asset cp_leader__asset--' + self.shade(), '') }}
        {% else %}
        <!-- call image asset -->
            <div class="scaled-image is-pixelperfect cp_leader__asset cp_leader__asset--{{ self.shade() }}" data-wrap=".cp_leader">
                {{ lama.insert_responsive_image(image) }}
            </div>
        {% endif %}
    </a>
    <!-- call teaser text -->
    {{ cp.teaser_text_block(teaser, 'leader', self.shade(), self.supertitle()) }}
</div>