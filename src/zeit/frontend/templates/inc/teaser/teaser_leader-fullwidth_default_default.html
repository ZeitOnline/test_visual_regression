{% macro lead_full_video(obj) -%}  
  <div data-backgroundvideo="{{obj.uniqueId|substring_from('/')}}" class="cp__lead-full">
        <video preload="auto" autoplay="true" loop="loop" muted="muted" volume="0" poster="{{obj.video_still}}">
             <source src="{{obj.flv_url}}" type="video/mp4">
              <source src="http://opendata.zeit.de/zmo-videos/{{obj.uniqueId|substring_from('/')}}.webm" type="video/webm">
        </video>
        <img class="video--fallback" src="{{obj.video_still}}">
    </div>
{%- endmacro %}

<!-- TODO: repair when function is ready (as)-->
{% macro lead_full_image(obj) -%}     
  <div class="cp__lead-full scaled-image">
      <!--[if gte IE 9]> -->
        <noscript data-ratio="{{obj.ratio}}">
      <!-- <![endif]-->
          <img alt="{{obj.attr_alt}}" title="{{obj.attr_title}}" class="figure__media" src="{{obj | default_image_url | default('http://placehold.it/160x90', true)}}" data-ratio="{{obj.ratio}}">
      <!--[if gte IE 9]> -->
        </noscript>
      <!-- <![endif]-->
  </div>
{%- endmacro %}

{% macro lead_full_title(teaser) -%}
  <header class="cp__lead-full__title__wrap">
      <h1 class="cp__lead__title">
        {{teaser.teaserTitle}}
      </h1>
        <span class="cp__lead__subtitle">
          {{teaser.teaserText}} 
        </span>
    </header>
{%- endmacro %}

<div class="cp__lead-full__wrap">
  {% set type = 'image' -%}
  {% if type == 'video' %}
      {{ lead_full_video(teaser | auto_select_asset) }}
    {% elif type == 'image' %}
      {{ lead_full_image( teaser.main_image_block ) }}
    {% endif %}
    {{ lead_full_title(teaser) }}
</div>

